<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="using:SAPLDesktopApp.ViewModels"
        xmlns:resources="using:SAPLDesktopApp.Resources"
        x:Class="SAPLDesktopApp.Views.ForgotPasswordWindow"
        x:DataType="vm:ForgotPasswordViewModel"
        Title="{x:Static resources:TextResource.ForgotPasswordWindowTitle}"
        Width="400"
        Height="400"
        WindowStartupLocation="CenterScreen"
		Icon="/Assets/avalonia-logo.ico"
        CanResize="False">

	<Grid Margin="30">
		<StackPanel Spacing="20">

			<!-- Title -->
			<TextBlock Text="{x:Static resources:TextResource.ForgotPasswordTitle}"
                       FontSize="18"
                       FontWeight="Bold"
                       HorizontalAlignment="Center"/>

			<!-- Description -->
			<TextBlock Text="{x:Static resources:TextResource.ForgotPasswordDescription}"
                       FontSize="12"
                       TextWrapping="Wrap"
                       HorizontalAlignment="Center"
                       TextAlignment="Center"/>

			<!-- Error Message -->
			<TextBlock Text="{Binding ErrorMessage}"
                       Foreground="Red"
                       FontSize="12"
                       TextWrapping="Wrap"
                       HorizontalAlignment="Center"
                       IsVisible="{Binding HasErrorMessage}"/>

			<!-- Success Message -->
			<TextBlock Text="{Binding SuccessMessage}"
                       Foreground="Green"
                       FontSize="12"
                       TextWrapping="Wrap"
                       HorizontalAlignment="Center"
                       IsVisible="{Binding HasSuccessMessage}"/>

			<!-- Email Input -->
			<StackPanel Spacing="5">
				<TextBlock Text="{x:Static resources:TextResource.EmailLabel}"/>
				<TextBox Text="{Binding Email}"
                         Watermark="{x:Static resources:TextResource.EnterEmailPlaceholder}"/>
				<TextBlock Text="{Binding EmailError}"
                           Foreground="Red"
                           FontSize="11"
                           IsVisible="{Binding HasEmailError}"/>
			</StackPanel>

			<!-- Buttons -->
			<StackPanel Spacing="10">
				<Button Content="{x:Static resources:TextResource.ForgotPasswordSendRequestButton}"
						HorizontalContentAlignment="Center"
                        Command="{Binding RequestResetCommand}"
                        IsEnabled="{Binding !IsLoading}"
                        HorizontalAlignment="Stretch"/>

				<Button Content="{x:Static resources:TextResource.ForgotPasswordBackToLoginButton}"
                        Command="{Binding BackToLoginCommand}"
						HorizontalContentAlignment="Center"
                        HorizontalAlignment="Stretch"/>
			</StackPanel>

			<!-- Loading indicator -->
			<TextBlock Text="{Binding LoadingMessage}"
                       HorizontalAlignment="Center"
                       IsVisible="{Binding IsLoading}"/>

		</StackPanel>
	</Grid>
</Window>